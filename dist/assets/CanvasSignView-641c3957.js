import{d as g,g as d,h as f,i as m,o as k,c as C,a as n,t as S,p as W,j as b,_ as L}from"./index-3c604ef1.js";const y=l=>(W("data-v-da704a54"),l=l(),b(),l),x={class:"sign-canvas-wrap"},E=y(()=>n("canvas",{id:"sign-canvas"},null,-1)),B=g({__name:"CanvasSignView",setup(l){const i=d(),t=d(),e=f({width:500,height:500,strokeStyle:"black",lineWidth:5,lineCap:"round",lineJoin:"round"}),u=o=>{const{offsetX:a,offsetY:s}=o;t.value.strokeStyle=e.strokeStyle,t.value.lineWidth=e.lineWidth,t.value.lineCap=e.lineCap,t.value.lineJoin=e.lineJoin,t.value.beginPath(),t.value.moveTo(a,s),window.addEventListener("mousemove",c),window.addEventListener("mouseup",v)},v=()=>{t.value.closePath(),window.removeEventListener("mousemove",c)},c=o=>{const{offsetX:a,offsetY:s}=o;t.value.lineTo(a,s),t.value.stroke()},r=()=>{t.value.clearRect(0,0,e.width,e.height)},h=()=>{i.value.toBlob(o=>{const a=document.createElement("a"),s=Date.now().toString();a.download=`${s}.png`,a.href=URL.createObjectURL(o),a.click()})},p=()=>{e.lineWidth++},_=()=>{e.lineWidth--},w=()=>{e.lineWidth=5};return m(()=>{i.value=document.querySelector("#sign-canvas"),i.value.width=e.width,i.value.height=e.height,t.value=i.value.getContext("2d"),t.value.fillStyle="transparent",t.value.clearRect(0,0,e.width,e.height),window.addEventListener("mousedown",u)}),(o,a)=>(k(),C("div",x,[n("div",null,[E,n("div",null,[n("button",{onClick:h},"导出签名"),n("button",{onClick:r},"清除画布"),n("span",null,"画笔粗细："+S(e.lineWidth),1),n("button",{onClick:p},"加粗画笔"),n("button",{onClick:_},"减细画笔"),n("button",{onClick:w},"复原画笔尺寸")])])]))}});const R=L(B,[["__scopeId","data-v-da704a54"]]);export{R as default};
